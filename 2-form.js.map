{"version":3,"file":"2-form.js","sources":["../src/js/localStorage.js","../src/js/2-form.js"],"sourcesContent":["export const save = (key, data) => {\n    try {\n        localStorage.setItem(key, JSON.stringify(data));\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const load = key => {\n    try {\n        const dataFromLS = localStorage.getItem(key);\n        return dataFromLS === null ? undefined : JSON.parse(dataFromLS);\n    } catch (error) {\n        console.log(error);\n    }\n}\n","import { save, load } from \"./localStorage\";\nimport iziToast from \"izitoast\";\n\ndocument.body.style.fontFamily = \"'Montserrat', sans-serif\";\nconst form = document.querySelector(\"form\");\nconst labels = document.querySelectorAll(\"label\");\nconst input = document.querySelector(\"input\");\nconst textarea = document.querySelector(\"textarea\");\nconst submitButton = document.querySelector(\"button\")\n\nconst formData = {\n    email: '',\n    message: '',\n};\n\nconst fillFormField = () => {\n    const formDataFromLS = load('feedback-form-state');\n\n    if (formDataFromLS === undefined) {\n        return;\n    }\n\n    const formDataFromLSKeys = Object.keys(formDataFromLS);\n\n    formDataFromLSKeys.forEach(key => {\n        form.elements[key].value = formDataFromLS[key];\n        formData[key] = formDataFromLS[key];\n    });\n\n  console.log(formData);\n};\n\nfillFormField();\n\nconst onFormFieldChange = event => {\n    const { target: formField } = event;\n\n    const fieldName = formField.name;\n    const fieldValue = formField.value;\n\n    formData[fieldName] = fieldValue;\n\n    save('feedback-form-state', formData);\n};\n\nconst onFeedbackFormSubmit = event => {\n    event.preventDefault();\n\n    const formDataValues = Object.values(formData);\n\n    if (formDataValues.some(el => el === '')) {\n        iziToast.error({\n        message: 'Fill please all fields',\n        position: 'topRight',\n        });\n        return;\n    }\n    \n    console.log(formData);\n\n    event.currentTarget.reset();\n    localStorage.removeItem('feedback-form-state');\n};\n\nform.addEventListener('input', onFormFieldChange);\nform.addEventListener('submit', onFeedbackFormSubmit);\n\nform.style.display = \"inline-flex\";\nform.style.padding = \"24px\";\nform.style.flexDirection = \"column\";\nform.style.gap = \"8px\";\nform.style.borderRadius = \"8px\";\nform.style.background = \"#fff\";\n\nlabels.forEach(label => {\n    label.style.display = \"flex\";\n    label.style.flexDirection = \"column\";\n    label.style.gap = \"8px\";\n    label.style.color = \"#2e2f42\";\n    label.style.fontFamily = \"'Montserrat', sans-serif\";\n    label.style.fontSize = \"16px\";\n    label.style.fontStyle = \"normal\";\n    label.style.fontWeight = \"400\";\n    label.style.lineHeight = \"24px\";\n    label.style.letterSpacing = \"0.64px\";\n})\n\ninput.style.outline = \"none\";\ninput.style.width = \"360px\";\ninput.style.height = \"40px\";\ninput.style.borderRadius = \"4px\";\ninput.style.border = \"1px solid #808080\";\ninput.style.padding = \"8px 16px\";\ninput.style.fontFamily = \"'Montserrat', sans-serif\";\n\ntextarea.style.outline = \"none\";\ntextarea.style.width = \"360px\";\ntextarea.style.height = \"80px\";\ntextarea.style.borderRadius = \"4px\";\ntextarea.style.border = \"1px solid #808080\";\ntextarea.style.padding = \"8px 16px\";\ntextarea.style.fontFamily = \"'Montserrat', sans-serif\";\n\ninput.addEventListener(\"mouseenter\", () => {\n    input.style.border = \"1px solid #000\";\n});\ninput.addEventListener(\"mouseleave\", () => {\n    input.style.border = \"1px solid #808080\";\n});\n\ntextarea.addEventListener(\"mouseenter\", () => {\n    textarea.style.border = \"1px solid #000\";\n});\ntextarea.addEventListener(\"mouseleave\", () => {\n    textarea.style.border = \"1px solid #808080\";\n});\n\nsubmitButton.style.outline = \"none\";\nsubmitButton.style.marginTop = \"8px\";\nsubmitButton.style.width = \"86px\";\nsubmitButton.style.height = \"40px\";\nsubmitButton.style.display = \"flex\";\nsubmitButton.style.justifyContent = \"center\";\nsubmitButton.style.alignItems = \"center\";\nsubmitButton.style.padding = \"8px 16px\";\nsubmitButton.style.borderRadius = \"8px\";\nsubmitButton.style.border = \"none\";\nsubmitButton.style.background = \"#4E75FF\";\nsubmitButton.style.color = \"#FFF\";\nsubmitButton.style.fontFamily = \"'Montserrat', sans-serif\";\nsubmitButton.style.fontSize = \"16px\";\nsubmitButton.style.fontStyle = \"normal\";\nsubmitButton.style.fontWeight = \"500\";\nsubmitButton.style.lineHeight = \"24px\";\nsubmitButton.style.letterSpacing = \"0.64px\";\n\nsubmitButton.addEventListener(\"mouseenter\", () => {\n    submitButton.style.background = \"#6C8CFF\";\n});\nsubmitButton.addEventListener(\"mouseleave\", () => {\n    submitButton.style.background = \"#4E75FF\";\n});"],"names":["save","key","data","error","load","dataFromLS","form","labels","input","textarea","submitButton","formData","fillFormField","formDataFromLS","onFormFieldChange","event","formField","fieldName","fieldValue","onFeedbackFormSubmit","el","iziToast","label"],"mappings":"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"}